<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="ExpenseTracker.Views.GoalsPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml">

    <Grid>
        <ScrollView>
            <VerticalStackLayout Padding="16" Spacing="16">

                <Label Text="Goals &amp; Achievements"
                       FontSize="28"
                       FontAttributes="Bold" />

                <CollectionView ItemsSource="{Binding Goals}">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <SwipeView>
                                <SwipeView.RightItems>
                                    <SwipeItems Mode="Reveal">
                                        <SwipeItem Text="Delete"
                                                   BackgroundColor="Red"
                                                   Invoked="OnDeleteSwipeInvoked" />
                                    </SwipeItems>
                                </SwipeView.RightItems>

                                <Border StrokeShape="RoundRectangle 16"
                                        Padding="12"
                                        Margin="0,4">
                                    <VerticalStackLayout Spacing="4">
                                        <Label Text="{Binding Name}"
                                               FontAttributes="Bold" />
                                        <Label Text="{Binding TargetAmount, StringFormat='Target: ${0:F2}'}"
                                               FontSize="12"
                                               TextColor="Gray" />
                                        <ProgressBar Progress="{Binding Progress}" />
                                        <Label Text="{Binding CurrentAmount, StringFormat='Saved: ${0:F2}'}"
                                               FontSize="12" />
                                    </VerticalStackLayout>
                                </Border>
                            </SwipeView>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>

            </VerticalStackLayout>
        </ScrollView>

        <Button Text="+"
                WidthRequest="56"
                HeightRequest="56"
                CornerRadius="28"
                FontSize="24"
                HorizontalOptions="End"
                VerticalOptions="End"
                Margin="24"
                Clicked="OnAddClicked" />
    </Grid>
</ContentPage>
